---
title: Ingestion
---

import { Callout } from "nextra/components";

# Ingesting Traces via Evals API

You can ingest traces via the Evals API by calling the `POST - /v1/tracing` endpoint.

## Simple Ingestion

The request body should be **strictly** the [`Trace` data model](/api/traces/data-model):

```bash showLineNumbers
curl -X POST "https://api.confident-ai.com/v1/traces" \
     -H "Content-Type: application/json" \
     -H "CONFIDENT_API_KEY: your-project-api-key-goes-here" \
     -d '{
            "uuid": "your-generated-trace-uuid",
            "input": "What is the capital of France?",
            "output": "The capital of France is Paris.",
            "startTime": "2024-01-15T10:30:00Z",
            "endTime": "2024-01-15T10:30:05Z",
            "environment": "production",
            "baseSpans": [
                {
                    "uuid": "span-123",
                    "name": "LLM Call",
                    "input": "What is the capital of France?",
                    "output": "The capital of France is Paris.",
                    "startTime": "2024-01-15T10:30:00Z",
                    "endTime": "2024-01-15T10:30:05Z",
                    "traceUuid": "your-generated-trace-uuid"
                }
            ],
            "llmSpans": [],
            "retrieverSpans": [],
            "toolSpans": [],
            "agentSpans": []
         }`
```

## Online Evals

You can run online evaluations on bothe traces and spans by providing a test case argument and metric collection name:

```python showLineNumbers {11, 15}
curl -X POST "https://api.confident-ai.com/v1/traces" \
     -H "Content-Type: application/json" \
     -H "CONFIDENT_API_KEY: your-project-api-key-goes-here" \
     -d '{
            "uuid": "your-generated-trace-uuid",
            "input": "What is the capital of France?",
            "output": "The capital of France is Paris.",
            "startTime": "2024-01-15T10:30:00Z",
            "endTime": "2024-01-15T10:30:05Z",
            "environment": "production",
            "traceTestCase": {
                "input": "What is the capital of France?",
                "actualOutput": "The capital of France is Paris."
            },
            "metricCollection": "Your Metric Collection",
            "baseSpans": [
                {
                    "uuid": "span-123",
                    "name": "LLM Call",
                    "input": "What is the capital of France?",
                    "output": "The capital of France is Paris.",
                    "startTime": "2024-01-15T10:30:00Z",
                    "endTime": "2024-01-15T10:30:05Z",
                    "traceUuid": "your-generated-trace-uuid"
                }
            ],
            "llmSpans": [],
            "retrieverSpans": [],
            "toolSpans": [],
            "agentSpans": []
         }`
```

## Span Types

You can ingest traces containing different span types for more tailored functionalities. Below shows an example for an [LLM span](/api/traces/data-model#llm-span):

```bash showLineNumbers {12, 21}
curl -X POST "https://api.confident-ai.com/v1/traces" \
     -H "Content-Type: application/json" \
     -H "CONFIDENT_API_KEY: your-project-api-key-goes-here" \
     -d '{
            "uuid": "your-generated-trace-uuid",
            "input": "What is the capital of France?",
            "output": "The capital of France is Paris.",
            "startTime": "2024-01-15T10:30:00Z",
            "endTime": "2024-01-15T10:30:05Z",
            "environment": "production",
            "baseSpans": [],
            "llmSpans": [
                {
                    "uuid": "span-123",
                    "name": "LLM Call",
                    "input": "What is the capital of France?",
                    "output": "The capital of France is Paris.",
                    "startTime": "2024-01-15T10:30:00Z",
                    "endTime": "2024-01-15T10:30:05Z",
                    "traceUuid": "your-generated-trace-uuid",
                    "model": "gpt-4o"
                }
            ],
            "retrieverSpans": [],
            "toolSpans": [],
            "agentSpans": []
         }`
```

## Threads

## Users