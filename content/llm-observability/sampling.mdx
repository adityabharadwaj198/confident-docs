---
title: Sampling
---

# Sampling

Sampling allows you to control what percentage of traces are sent to Confident's observatory. This is useful for high-volume applications where you may want to reduce the amount of data being sent while still maintaining visibility into your system's performance.

## Configuring Sample Rate

You can configure the sampling rate by setting the `CONFIDENT_SAMPLE_RATE` environment variable. This value represents the percentage of traces that will be sent to the observatory.

```bash
export CONFIDENT_SAMPLE_RATE=0.5 
```

Alternatively, you can set the sampling rate directly in your Python code:

```python
import os
from deepeval.tracing import observe

os.environ["CONFIDENT_SAMPLE_RATE"] = "0.5"

@observe(type="agent")
def generate_text(prompt):
    ...
    return generated_response
```

## How Sampling Works

When sampling is configured:

1. The specified percentage of traces will be randomly selected to be sent to the observatory
2. All other traces will be dropped and not sent to Confident
3. Sampling is applied at the trace level, so all spans within a sampled trace will be included
